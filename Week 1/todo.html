<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>
        <ul id="todos">

        </ul>
        <form>
            <input type="text" name="todo">
            <input type="submit" value="Add Todo">
        </form>

        <script>
            debugger;
        
            // getting a handle on the ul element
            const todoList = document.getElementById("todos");
            const form = document.querySelector("form");
            const input = document.querySelector("[name='todo']");


            const existingTodos = JSON.parse(localStorage.getItem("todos")) || [];

            const todoData = [];

            existingTodos.forEach((todo) => {
                addTodo(todo);
            });

            function addTodo(todoText){
                todoData.push(todoText);
                const li = document.createElement("li");
                li.innerHTML = todoText;
                todoList.append(li);
                localStorage.setItem("todos", JSON.stringify(todoData));
                input.value = "";
            }


            //            listening to event that is "submit"
            form.addEventListener("submit", (evt) => {
                evt.preventDefault();
                addTodo(input.value);
            });
        </script>
    </body>
</html>